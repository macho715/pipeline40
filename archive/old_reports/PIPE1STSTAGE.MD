# ì „ì²´ íŒŒì´í”„ë¼ì¸ ì²˜ìŒë¶€í„° ì¬ì‹¤í–‰

## ì‹¤í–‰ ì „ëµ

íŒ¨ì¹˜ê°€ ì ìš©ëœ ìƒíƒœì—ì„œ ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ í´ë¦°í•˜ê²Œ ì¬ì‹¤í–‰í•©ë‹ˆë‹¤.

## ì‹¤í–‰ ë‹¨ê³„

### Stage 0: ê¸°ì¡´ ê²°ê³¼ë¬¼ ì •ë¦¬ (ì„ íƒ)

ê¸°ì¡´ ì¶œë ¥ íŒŒì¼ë“¤ì„ ë°±ì—… ë˜ëŠ” ì‚­ì œ:

- `hvdc_pipeline/data/processed/synced/*.xlsx`
- `hvdc_pipeline/data/processed/derived/*.xlsx`

### Stage 1: ë°ì´í„° ë™ê¸°í™” (Master + Warehouse)

**ì…ë ¥**:

- Master: `hvdc_pipeline/data/raw/Case List.xlsx`
- Warehouse: `hvdc_pipeline/data/raw/HVDC WAREHOUSE_HITACHI(HE).xlsx`

**ì‹¤í–‰**:

```bash
python hvdc_pipeline/run_pipeline.py --stage 1
```

**ì¶œë ¥**:

- `hvdc_pipeline/data/processed/synced/HVDC WAREHOUSE_HITACHI(HE).synced.xlsx`
- ì˜ˆìƒ: ~7,161í–‰, 57ì»¬ëŸ¼
- ìƒ‰ìƒ: ğŸŸ  ë‚ ì§œ ë³€ê²½ (ì£¼í™©), ğŸŸ¡ ì‹ ê·œ ì¼€ì´ìŠ¤ (ë…¸ë‘)

**íŒ¨ì¹˜ íš¨ê³¼**:

- âœ… PROJECT_ROOT ì•ˆì „í™”
- âœ… ê¶Œí•œ ì˜¤ë¥˜ ë°©ì§€ (ì›Œí•˜ìš°ìŠ¤ íŒŒì¼ ìœ„ì¹˜ ê¸°ì¤€)
- âœ… ìœ ë ¹ í‚¤ 'NAN' ë°©ì§€

### Stage 1.5: SYNC ê²°ê³¼ 2ê°œë¡œ ë³µì‚¬

**ë³µì‚¬ 1: ìƒ‰ìƒ ì‘ì—…ìš©**

```bash
Copy-Item "hvdc_pipeline/data/processed/synced/HVDC WAREHOUSE_HITACHI(HE).synced.xlsx" `
          "hvdc_pipeline/data/processed/synced/HVDC WAREHOUSE_HITACHI(HE).synced_for_color.xlsx"
```

**ë³µì‚¬ 2: ì»¬ëŸ¼ ì‘ì—…ìš©**

```bash
Copy-Item "hvdc_pipeline/data/processed/synced/HVDC WAREHOUSE_HITACHI(HE).synced.xlsx" `
          "hvdc_pipeline/data/processed/synced/HVDC WAREHOUSE_HITACHI(HE).synced_for_derived.xlsx"
```

### Stage 2A: ìƒ‰ìƒ ì‘ì—… (íŒŒì¼ 1)

**ëŒ€ìƒ**: `HVDC WAREHOUSE_HITACHI(HE).synced_for_color.xlsx`

**í™•ì¸ ì‚¬í•­**:

- Stage 1 ë™ê¸°í™” ê³¼ì •ì—ì„œ ì´ë¯¸ ìƒ‰ìƒì´ ì ìš©ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- ìƒ‰ìƒì´ ì—†ë‹¤ë©´ ë³„ë„ ìƒ‰ìƒ ì ìš© ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í•„ìš”

**ê²€ì¦**:

- ğŸŸ  ì£¼í™©ìƒ‰: ë‚ ì§œ ë³€ê²½ ì…€
- ğŸŸ¡ ë…¸ë€ìƒ‰: ì‹ ê·œ ì¼€ì´ìŠ¤ ì „ì²´ í–‰

### Stage 2B: íŒŒìƒ ì»¬ëŸ¼ ì²˜ë¦¬ (íŒŒì¼ 2)

**ì…ë ¥**: `HVDC WAREHOUSE_HITACHI(HE).synced_for_derived.xlsx`

**ì²˜ë¦¬**:

- Stage 2 íŒŒìƒ ì»¬ëŸ¼ í”„ë¡œì„¸ì„œ ì‹¤í–‰
- ì…ë ¥ íŒŒì¼ ê²½ë¡œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •

**ì¶œë ¥**: `hvdc_pipeline/data/processed/derived/HVDC WAREHOUSE_HITACHI(HE).xlsx`

**ì˜ˆìƒ ê²°ê³¼**:

- 7,161í–‰, 70ì»¬ëŸ¼ (57 + 13 íŒŒìƒ)
- íŒŒìƒ ì»¬ëŸ¼ 13ê°œ:
  - Status_WAREHOUSE, Status_SITE, Status_Current
  - Status_Location, Status_Location_Date, Status_Storage
  - wh handling, site handling, total handling
  - minus, final handling, SQM, Stack_Status

### Stage 3: ì¢…í•© ê²€ì¦

**ê²€ì¦ í•­ëª©**:

1. âœ… Stage 1 ì¶œë ¥ íŒŒì¼ ì¡´ì¬ ë° í¬ê¸°
2. âœ… 2ê°œ ë³µì‚¬ë³¸ ìƒì„± í™•ì¸
3. âœ… ìƒ‰ìƒ ì‘ì—… íŒŒì¼ ìƒ‰ìƒ í™•ì¸
4. âœ… íŒŒìƒ ì»¬ëŸ¼ íŒŒì¼ 13ê°œ ì»¬ëŸ¼ í™•ì¸
5. âœ… ë°ì´í„° ë¬´ê²°ì„± (í–‰ ìˆ˜ ì¼ì¹˜)

## ì˜ˆìƒ ì‚°ì¶œë¬¼

```
hvdc_pipeline/
â””â”€â”€ data/
    â””â”€â”€ processed/
        â”œâ”€â”€ synced/
        â”‚   â”œâ”€â”€ HVDC WAREHOUSE_HITACHI(HE).synced.xlsx (ì›ë³¸)
        â”‚   â”œâ”€â”€ HVDC WAREHOUSE_HITACHI(HE).synced_for_color.xlsx (ìƒ‰ìƒìš©)
        â”‚   â””â”€â”€ HVDC WAREHOUSE_HITACHI(HE).synced_for_derived.xlsx (ì»¬ëŸ¼ìš©)
        â””â”€â”€ derived/
            â””â”€â”€ HVDC WAREHOUSE_HITACHI(HE).xlsx (íŒŒìƒ ì»¬ëŸ¼ ì¶”ê°€)
```

## ì‹¤í–‰ ì‹œê°„ ì˜ˆìƒ

- Stage 1: ~100ì´ˆ
- íŒŒì¼ ë³µì‚¬: ~5ì´ˆ
- Stage 2: ~11ì´ˆ
- **ì´ ì˜ˆìƒ ì‹œê°„**: ~2ë¶„

## ì£¼ì˜ì‚¬í•­

- ê¸°ì¡´ íŒŒì¼ì´ ì—´ë ¤ìˆìœ¼ë©´ ë®ì–´ì“°ê¸° ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ
- ê¶Œí•œ ì˜¤ë¥˜ëŠ” íŒ¨ì¹˜ë¡œ í•´ê²°ë¨
- Stage 2ëŠ” ìƒ‰ìƒì„ ë³´ì¡´í•˜ì§€ ì•ŠìŒ (ì„¤ê³„ëœ ë™ì‘)
